Sorting Searching Intro Programming 1 .    Elements Programming 1.1    Program 1.2    Built - Types Data 1.3    Conditionals Loops 1.4    Arrays 1.5    Input Output 1.6    Case Study : PageRank 2 .    Functions 2.1    Defining Functions 2.2    Modules Clients 2.3    Recursion 2.4    Case Study : Percolation 3 .    OOP 3.1    Data Types 3.2    Creating Data Types 3.3    Designing Data Types 3.4    Case Study : N - Body 4 .    Data Structures 4.1    Performance 4.2    Sorting Searching 4.3    Stacks Queues 4.4    Symbol Tables 4.5    Case Study : Small World Related Booksites Web Resources FAQ Code Errata Appendices A.    Python Operator Precedence B.    Writing Clear Code C.    Gaussian Distribution D.    Python Cheatsheet E.    NumPy Sorting Searching 4.2 Sorting Searching sorting problem rearrange set items ascending order . reason useful easier search sorted list unsorted . section , consider detail classical algorithms   sorting searching , applications efficiency   plays critical role . Binary Search game " questions " , task guess value hidden number n integers 0 n -1 . ( simplicity , assume n power . ) time guess , told guess high low . effective strategy maintain interval [ lo , hi ) contains hidden number , guess number middle interval , use answer halve interval size . program questions.py implements strategy , example general problem - solving method known binary search . Correctness proof . , convince approach correct : leads hidden number . establishing following facts : interval contains hidden number . interval sizes powers , decreasing n . facts enforced code ; second follows noting interval size ( hi - lo ) power , interval size ( hi - lo ) /2 , smaller power . facts basis induction proof method operates intended . Eventually , interval size 1 , guaranteed find number . Running time analysis . size interval decreases factor 2 iteration ( base case reached n = 1 ) , running time binary search lg n . Linear - logarithm chasm . alternative binary search guess 0 , 1 , 2 , 3 , forth , hitting hidden number . refer algorithm brute - force algorithm : job , regard cost ( prevent actually getting job large problems ) . case , running time brute - force algorithm sensitive input value , n expected value n /2 input value chosen random . , binary search guaranteed use lg n steps . Binary representation . look binary.py , recognize binary search nearly computation converting number binary ! guess determines bit answer . example , information number 0 127 says number bits binary representation 7 , answer question ( number greater equal 64 ? ) tells value leading bit , answer second question tells value bit , forth . example , number 77 , sequence answers true false , false , true , true , false , true immediately yields 1001101 , binary representation 77 . Inverting function . example utility binary search scientific computing , revisit problem encountered exercises Section 2.1 : inverting increasing function . Given increasing function f value y , open interval [ lo , hi ) , task find value x interval f ( x ) = y . situation , use real numbers endpoints interval , integers , use essential approach guessing hidden integer " questions " problem : halve length interval step , keeping x interval , interval sufficiently small know value x desired precision ) , argument function . figure illustrates step . program bisection.py implements strategy . start interval ( lo , hi ) known contain x use following recursive procedure : Compute mid = ( hi + lo ) / 2 . Base case : hi - lo δ , return mid estimate x . Recursive step : , test f ( mid ) > y . , look x ( lo , mid ) ; , look x ( mid , hi ) . key approach idea function increasing — values b , knowing f ( ) < f ( b ) tells < b , vice versa . context , binary search called bisection search bisect interval stage . Binary search sorted array . century people use publication known dictionary look definition word . Entries appears order , sorted key identifies ( word ) . Think look word dictionary . brute - force solution start beginning , examine entry time , continue find word . uses approach : instead , open dictionary interior page look word page . , ; , eliminate dictionary current page dictionary current page consideration repeat . Exception filter . use binary search solve existence problem : given key sorted database keys ? example , checking spelling word , need know word dictionary interested definition . computer search , information array , sorted order key . binary search code binarysearch.py differs applications details . , array length n need power . Second , allow possibility item sought array . client program implements exception filter : reads sorted list strings file refer whitelist ( example , white.txt ) arbitrary sequence strings standard input ( example , emails.txt ) writes sequence whitelist . Insertion Sort Binary search requires array sorted , sorting direct applications , turn sorting algorithms . consider brute - force algorithm , sophisticated algorithm use huge arrays . brute - force algorithm consider known insertion sort . based simple approach people use arrange hands playing cards — , consider cards time insert proper place considered ( keeping sorted ) . program insertion.py contains implementation sort ( ) function mimics process sort elements array [ ] length n . test client reads strings standard input , puts array , calls sort ( ) function sort , writes sorted result standard output . Try running sort small tiny.txt file . try running sort larger tomsawyer.txt file , prepared wait long time ! outer loop sorts entries array ; inner loop complete sort putting a[i ] proper position array . Mathematical analysis . sort ( ) function contains loop nested inside loop , suggests running time quadratic . , immediately draw conclusion loop terminates soon a[j ] greater equal a[j-1 ] . Best case . input array sorted order , inner loop amounts comparison ( learn a[j-1 ] equal a[j ] ) , total running time linear . Worst case . input reverse sorted , inner loop terminate j equals 0 . , frequency execution instructions inner loop 1 + 2 + ... + n -1 ~ n 2 /2 . Average case . input randomly ordered , expect new element inserted equally likely fall position , element halfway 
 left average . , expect running time 
 1/2 + 2/2 + ... + ( n -1)/2 ~ n 2 /2 . Empirical analysis . Program timesort.py implements doubling test sorting functions . use confirm hypothesis insertion sort quadratic randomly ordered files : % python 
 > > > import insertion 
 > > > import timesort 
 > > > timesort.doublingTest(insertion.sort , 128 , 100 ) 
     128 3.67 
     256 3.73 
     512 4.21 
    1024 4.19 
    2048 4.11 Sensitivity input . Note doublingTest ( ) function timesort.py takes parameter m runs m experiments array size , . reason running time insertion   sort sensitive input values . correct flatly predict running time insertion sort quadratic , application involve input running time linear . Comparable keys . want able sort type data natural order . Happily , insertion sort binary search functions work strings data type comparable . user - defined type comparable implementing special methods corresponding = = , ! = , < , < = , > , > = operators . fact , insertion sort binary search functions rely < operator , better style implement special methods . Mergesort develop faster sorting algorithm , use divide - - conquer approach algorithm design programmer needs understand . nomenclature refers idea way solve problem divide independent parts , conquer independently , use solutions parts develop solution problem . sort array strategy , divide halves , sort halves independently , merge results sort array . method known mergesort .To sort a[lo , hi ) , use following recursive strategy : Base case : subarray size 0 1 , sorted . Recursive step : , compute mid = ( hi + lo ) /2 , sort 
 ( recursively ) subarrays [ lo , mid ) [ mid , hi ) , merge . program merge.py implementation . insert.py , test client reads strings standard input , puts array , calls sort ( ) function sort , writes sorted result standard output . Try running sort small tiny.txt file larger tomsawyer.txt file . usual , easiest way understand merge process study trace contents array merge . Mathematical analysis . inner loop mergesort centered auxiliary array . loop involves n iterations , frequency execution instructions inner loop proportional sum subarray lengths calls recursive function . value quantity emerges arrange calls levels according size . simplicity , suppose n power 2 , n = 2 k . level , size n ; second level , calls size n /2 ; level , calls size n /4 ; forth , level n /2 calls size 2 . precisely k = lg n levels , giving grand total n lg n frequency execution instructions inner loop mergesort . equation justifies hypothesis running time mergesort linearithmic . n power 2 , subarrays level necessarily size , number levels logarithmic , linearithmic hypothesis justified n . Empirical analysis . run program timesort.py perform doubling test confirm hypothesis mergesort running time n lg n randomly ordered files : % python 
 > > > import merge 
 > > > import timesort 
 > > > timesort.doublingTest(merge.sort , 128 , 100 ) 
     128 1.84 
     256 2.15 
     512 2.22 
    1024 2.17 
    2048 2.13 
    4096 2.12 
    8192 2.14 Quadratic - linearithmic chasm . difference n 2 n lg n makes huge difference practical applications . Understanding   enormousness difference critical step understanding importance design analysis algorithms . great important   computational problems , speedup quadratic linearithmic makes difference able solve   problem involving huge data able effectively   address . Python System Sort Python includes operations sorting . method sort ( ) built - list data type rearranges items underlying list ascending order , like merge.sort ( ) . contrast , built - function sorted ( ) leaves underlying list ; instead , returns new list containing items ascending order . interactive Python script right illustrates techniques . % python 
 > > > = [ 3 , 1 , 4 , 1 , 5 ] 
 > > > b = sorted(a ) 
 > > > 
 [ 3 , 1 , 4 , 1 , 5 ] 
 > > > b 
 [ 1 , 1 , 3 , 4 , 5 ] 
 > > > a.sort ( ) 
 > > > 
 [ 1 , 1 , 3 , 4 , 5 ] 
 > > > Python system sort uses version mergesort . likely substantially faster ( 10 - 20× ) merge.py uses low - level implementation composed Python , avoiding substantial overhead Python imposes . sorting implementations , use system sort comparable data type , Python built - str , int , float data types . Application : Frequency Counts program frequencycount.py reads sequence strings standard input writes table distinct values found number times found , decreasing order frequencies . accomplish sorts . Computing frequencies . step sort strings standard input . case , interested fact strings sorted order , fact sorting brings equal strings . input result sort equal strings like occurrences brought array . , equal strings array , single pass array compute frequencies . Counter class , defined counter.py Section 3.3 , perfect tool job . Sorting frequencies . , sort Counter objects frequency . client code augmenting Counter data type include comparison methods comparing Counter objects count . , simply sort array Counter objects rearrange ascending order frequency ! , reverse array elements descending order frequency . Finally , write Counter object standard output . Zipf law . application highlighted frequencycount.py elementary linguistic analysis : words appear frequently text ? phenomenon known Zipf law says frequency   th frequent word text m distinct words proportional 1/ . Try running frequencycount.py large leipzig100k.txt , leipzig200k.txt , leipzig1m.txt files observe phenomenon . Q & Q. need lengths prove program correct ? A. spare considerable pain . Binary search notable example . example , understand binary search ; classic programming exercise compose version uses loop instead recursion . Try solving exercises section looking code book . famous experiment , Jon Bentley asked professional programmers , solutions correct . Q. introduce mergesort algorithm Python provides efficient sort ( ) method defined list data type ? A. topics studied , able use tools effectively understand background . Q. running time following version insertion sort array sorted ? def sort(a ): 
     n = len(a ) 
     range(1 , n ): 
         j range(i , 0 , -1 ): 
             a[j ] < a[j-1 ] : exchange(a , j , j-1 ) 
             :              break A. Quadratic time Python 2 ; linear time Python 3 . reason , Python 2 , range ( ) function returns array integers length equal length range ( wasteful loop terminates early break return statement ) . Python 3 , range ( ) returns iterator , generates integers needed . Q. happens try sort array elements type ? A. elements compatible types ( int float ) , works fine . example , mixed numeric types compared according numeric value , 0 0.0 treated equal . elements incompatible types ( str int ) , Python 3 raises TypeError run time . Python 2 supports mixed - type comparisons , class determine object smaller . example , Python 2 treats integers strings ' int ' lexicographically ' str ' . Q. order comparing strings operators = = < ? A. Informally , Python uses lexicographic order compare strings , words book index dictionary . example ' hello ' ' hello ' equal , ' hello ' ' goodbye ' unequal , ' goodbye ' ' hello ' . formally , Python compares character string . characters differ , strings compare characters compare . , Python compares second character string . characters differ , strings compare characters compare . Continuing manner , Python reaches ends strings simultaneously , considers equal . , considers shorter string smaller . Python uses Unicode character - - character comparisons . list important properties : ' 0 ' ' 1 ' , forth . ' ' ' B ' , forth . ' ' ' b ' , forth . Decimal digits ( ' 0 ' ' 9 ' ) uppercase letters ( ' ' ' Z ' ) . Uppercase letters ( ' ' ' Z ' ) lowercase letters ( ' ' ' z ' ) . Exercises Develop implementation questions.py takes maximum number n command - line argument ( need power 2 ) . Prove implementation correct . Compose nonrecursive version binarysearch.py . Modify binarysearch.py search key array , returns smallest index a[i ] equal key , returns largest index a[i ] smaller key ( -1 index exists ) . Describe happens apply binary search unordered array . check array sorted binary search ? check elements binary search examines ascending order ? Describe desirable use immutable keys binary search . Let f ( ) monotonically increasing function f ( ) < 0 f ( b ) > 0 . Compose program computes value x f ( x ) = 0 ( given error tolerance ) . Add code insertion.py produce trace given . Add code merge.py produce trace given . traces insertion sort mergesort style traces shown , input best times . Compose program dedup.py reads strings standard input writes standard output duplicates removed ( sorted order ) . Compose version mergesort , defined merge.py , creates auxiliary array recursive _ merge ( ) instead creating auxiliary array sort ( ) passing argument . impact change performance ? Compose nonrecursive version mergesort , defined merge.py . Find frequency distribution words favorite book . obey Zipf law ? Creative Exercises following exercises intended experience developing fast solutions typical problems . Think binary search , mergesort , devising divide - - conquer algorithm . Implement test algorithm . Median . Study function median ( ) stdstats.py . computes median given array numbers linearithmic time . Note works reducing problem sorting . Mode . Add stdstats.py function mode ( ) computes linearithmic time mode ( value occurs frequently ) sequence n integers . Hint : Reduce sorting . Integer sort . Compose linear - time filter reads standard input sequence integers 0 99 writes integers sorted order standard output . example , presented input sequence 98 2 3 1 0 0 0 3 98 98 2 2 2 0 0 0 2 program write output sequence 0 0 0 0 0 0 1 2 2 2 2 2 3 3 98 98 98 Floor ceiling . Given sorted array n comparable keys , compose functions floor ( ) ceiling ( ) returns index largest ( smallest ) key larger ( smaller ) argument key logarithmic time . Bitonic maximum . array bitonic consists increasing sequence keys followed immediately decreasing sequence keys . Given bitonic array , design logarithmic algorithm find index maximum key . Search bitonic array . Given bitonic array n distinct integers , design logarithmic - time algorithm determine given integer array . Closest pair . Given array n floats , compose function find linearithmic time pair floats closest value . Furthest pair . Given array n floats , compose function find linear time pair integers farthest apart value . sum . Compose function takes argument array n integers determines linearithmic time sum 0 . sum . Compose function takes argument array n integers determines sum 0 . program run time proportional n 2 log n . Extra credit : Develop program solves problem quadratic time . Majority . Given array n elements , element majority appears n /2 times . Compose function takes array n strings argument identifies majority ( exists ) linear time . Common element . Compose function takes argument arrays strings , determines string common arrays , , returns string . running time function linearithmic total number strings . Largest interval . Given n timestamps file requested web server , find largest interval time file requested . Compose program solve problem linearithmic time . Prefix - free codes . data compression , set strings prefix - free string prefix . example , set strings 01 , 10 , 0010 , 1111 prefix - free , set strings 01 , 10 , 0010 , 1010 prefix - free 10 prefix 1010 . Compose program reads set strings standard input determines set prefix - free . Partitioning . Compose function sorts array known different values . Hint : Maintain pointers , starting left end moving right , starting right end moving left . Maintain invariant elements left left pointer equal smaller values elements right right pointer equal larger values . Dutch national flag . Compose function sorts array known different values . ( Edsgar Dijkstra named Dutch - national - flag problem result " stripes " values like stripes flag . ) Hint : Reduce previous problem , partitioning array parts elements having smallest value elements second , partition second . Quicksort . Compose recursive program sorts array randomly ordered distinct elements . Hint : Use method like described previous exercise . , partition array left elements v , followed v , followed right elements greater v . , recursively sort parts . Extra credit : Modify method ( necessary ) work properly elements necessarily distinct . Reverse domain . Compose program read list domain names standard input write reverse domain names sorted order . example , reverse domain cs.princeton.edu edu.princeton.cs . computation useful web log analysis . , create data type Domain implements special comparison methods , reverse domain order . Local minimum array . Given array n floats , compose function find logarithmic time local minimum ( index a[i ] < a[i-1 ] a[i ] < a[i+1 ] ) . Discrete distribution . Design fast algorithm repeatedly generate numbers discrete distribution . Given array p [ ] nonnegative floats sum 1 , goal return index probability p[i ] . Form array s [ ] cumulated sums s[i ] sum elements p [ ] . , generate random float r 0 1 , use binary search return index s[i ] ≤ r < s[i+1 ] . Rhyming words . Tabulate list use find words rhyme . Use following approach : Read dictionary words array strings . Reverse letters word ( confound dnuofnoc , example ) . Sort resulting array . Reverse letters word original order . example , confound adjacent words astound surround resulting list . Copyright © 2000–2015 Robert Sedgewick , Kevin Wayne , Robert Dondero . 
    rights reserved .