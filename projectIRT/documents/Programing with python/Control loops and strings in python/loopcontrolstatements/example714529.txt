Loop control statements — Object - Oriented Programming Python 1 documentation Navigation index | previous | Object - Oriented Programming Python 1 documentation » Loop control statements Loop control statements ¶ Introduction ¶ chapter , learn computer execute group statements long certain criterion holds . group statements executed repeatedly called loop . loop statements Python : .   discuss difference statements later chapter , let look example loop real world . petrol attendant performs following actions serving customer : greet customer ask required type petrol ask customer needs services ask required money money cashier wait change receipt change receipt customer thank goodbye petrol attendant performs steps customer , follow customer serve . performs shift . write computer program simulate behaviour , provide steps ask computer repeat . need tell stop executing . major kinds programming loops : counting loops event - controlled loops . counting loop , computer knows beginning loop execution times needs execute loop . Python , kind loop defined statement , executes loop body item list . event - controlled loop , computer stops loop execution condition longer true . Python , use statement – executes loop body condition true .   statement checks condition performing iteration loop .   languages loop statement performs check iteration , loop executed .   Python construct , later simulate . Counting loops actually subset event - control loop - loop repeated required number iterations reached . wanted Cape Town Camps Bay , loop algorithm use ?   started putting car road Camps Bay , : drive exactly 15 minutes . 15 minutes , stop car . drive exactly 8 km . 8 km , stop car . drive long Camps Bay . arrive , stop car . algorithms based counting – counts time , second counts distance .   algorithms guarantees arrive Camps Bay . case , hit heavy traffic , fall short overshoot desired destination . second case , find detour end near Camps Bay . algorithm event - controlled . carry driving long beach . condition checking beach ? . real - life activities event - controlled . example , drink long thirsty . read newspaper long interested .   activities based multiple events – example , worker works long work time 5 pm . statement ¶ Python event - controlled loop statement statement . use know times execute body loop .   - body keeps repeating long condition true .   flow control diagram statement : loop consists important parts : initialisation , condition , update .   initialisation step , set variable going use condition .   condition step , perform test variable terminate loop execute body time .   , successfully completed execution loop body , update variable . Note condition checked loop body executed time – condition false start , loop body executed . simple Python example adds integers : total = 0 = 1 < = 10 : total + = + = 1 variable loop condition number , use count integers 1 10 .   initialise number 1 .   condition , check equal 10 , true execute loop body .   , end loop body , update incrementing 1 . important increment end .   , equal 1 , condition true , program terminate – infinite loop .   write loop , sure variable use condition updated inside loop body ! common errors result infinite loop : x = 0 x < 3 : y + = 1 # wrong variable updated product = 1 count = 1 count < = 10 : product * = count # forgot update count x = 0 x < 5 : print ( x ) x + = 1 # update statement indented level little , outside loop body x = 0 x ! = 5 : print ( x ) x + = 2 # x equal 5 , counting numbers ! wondering Python interpreter catch infinite loops . known halting problem . impossible computer detect possible infinite loops program . programmer avoid infinite loops . examples , counting predetermined number , appropriate use loop ( introduced section ) – loop structure commonly counting loops .   realistic example : # numbers list numbers -- know numbers ! total = 0 = 0 < len ( numbers ) total < 100 : total + = numbers [ ] + = 1 add numbers list total reaches 100 .   know times execute loop , know values numbers .   Note reach end list numbers total reaches 100 – try access element end list error , add check sure happen . Exercise 1 ¶ Write program uses loop sum squares integers ( starting 1 ) total exceeds 200 .   Print final total number squared added . Write program keeps prompting user guess word .   user allowed guesses – write code way secret word number allowed guesses easy change .   Print messages user feedback . statement ¶ Python loop statement statement .   use need predefined number steps .   look Python loop syntax , briefly look way loops work languages . example loop Java : ( int count = 1 ; count < = 8 ; count + + ) { System . . println ( count ) ; } kind loop lot common loop – fact , special case loop .   initialisation step , condition update step defined section parentheses line . loops perform operation element kind sequence . wanted iterate list classic - style loop , count zero end list , access list element index . Python , loops use case simple easy allowing iterate sequences directly .   example statement counts 1 8 : range ( 1 , 9 ): print ( ) saw previous chapter , range immutable sequence type ranges integers – case , range counting 1 8 . loop step numbers turn , performing print action .   end range reached , loop exit . use iterate kinds sequences .   iterate list strings like : pets = [ " cat " , " dog " , " budgie " ] pet pets : print ( pet ) iteration loop , element list pets assigned variable pet , access inside loop body .   example functionally identical : range ( len ( pets ) ): # iterate 0 , 1 2 pet = pets [ ] print ( pet ) similar way loops written , example , Java .   avoid , difficult read , unnecessarily complex .   reason need index inside loop list element , use enumerate function number elements : , pet enumerate ( pets ): pets [ ] = pet . upper ( ) # rewrite list caps Like range , enumerate returns iterator – item generates tuple value index element ( starting zero ) second element . loop , iteration value index assigned variable , element assigned variable pet , . write pet = pet.upper ( ) ?   assign new value variable pet inside loop , changing original list . brings common loop pitfall : modifying list iterating .   example modifies elements - place , change order , cause kinds errors unintended behaviour insert delete list elements middle iteration : numbers = [ 1 , 2 , 2 , 3 ] , num enumerate ( numbers ): num = = 2 : del numbers [ ] print ( numbers ) # oops -- missed , shifted elements iterating ! avoid iterating copy list instead , wo help case – delete elements original list , shrink , indices unmodified list copy soon exceed length modified list error .   general , want select subset elements list basis criterion , use list comprehension instead . look end chapter . Exercise 2 ¶ Write program sums integers 1 10 loop ( prints total end ) . think way loop ? Write program finds factorial given number . E.g. 3 factorial , 3 ! equal 3 x 2 x 1 ; 5 ! equal 5 x 4 x 3 x 2 x 1 , etc .. program contain single loop . Write program prompts user 10 floating - point numbers calculates sum , product average . program contain single loop . Rewrite previous program loops – collects stores numbers , processes . Nested loops ¶ saw previous chapter create multi - dimensional sequences – sequences element sequence .   iterate values multi - dimensional sequence ?   need use loops inside loops .   , nesting loops . Consider timetable example previous chapter – let timetable contains seven days , day contains 24 time slots .   time slot string , scheduled slot .   iterate time slots print scheduled events ? # let define weekday names WEEKDAYS = ( ' Monday ' , ' Tuesday ' , ' Wednesday ' , ' Thursday ' , ' Friday ' , ' Saturday ' , ' Sunday ' ) # iterate day timetable day timetable : # timeslot day , event enumerate ( day ): event : # slot string print ( " % s % 02d : 00 -- % s " % ( WEEKDAYS [ day ] , , event ) ) Note loops – inner loop executed step outer loop iteration .   note enumerate function iterating days – need index time slot ( print hour ) contents slot . noticed look weekday iteration inner loop – changes iteration outer loop .   loop little efficient moving lookup inner loop , perform seven times 168 times ! day timetable : day_name = WEEKDAYS [ day ] , event enumerate ( day ): event : print ( " % s % 02d : 00 -- % s " % ( day_name , , event ) ) difference looking value short tuple , big difference expensive , time - consuming calculation iterating hundreds thousands values . Exercise 3 ¶ Write program uses nested loop populate - dimensional list representing calendar : - level list contain sub - list month , month contain weeks .   week list . Modify code easier access month calendar human - readable month , week numbered starting 1 .   Add event ( form string description ) second week July . Iterables , iterators generators ¶ Python , type iterated loop iterable .   Lists , tuples , strings dicts commonly iterable types .   Iterating list tuple simply means processing value turn . use sequence store series values follow particular pattern : value unpredictable , calculated fly .   cases like , choice store value list tuple .   list large , use lot memory . values sequence follow pattern , calculated fly ?   save lot memory calculating values need , instead calculating - : instead storing big list , store information need calculation . Python lot built - iterable types generate values demand – referred generators .   seen examples , like range enumerate .   treat generator like sequence need access elements time – example , use loop : # loops exactly thing : ( 1 , 2 , 3 , 4 , 5 ): print ( ) range ( 1 , 6 ): print ( ) notice difference try print generator contents – default Python standard string representation object , shows object type unique identifier .   print values generator , need convert sequence type like list , force values generated : # helpful print ( range ( 100 ) ) # generated values print ( list ( range ( 100 ) ) ) use iterables interchangeably use interface iterating values : iterable object method return iterator object .   iterable iterator form consistent interface loop sequence values – values stored memory calculated needed : iterable method accessing item index .   example , list returns item stored particular position .   range , hand , calculates integer range corresponds particular index . iterator “ keeps place ” sequence , method lets access element .   multiple iterators associated single iterable time – different place iteration .   example , iterate list levels nested loop – loop uses iterator , interfere : animals = [ ' cat ' , ' dog ' , ' fish ' ] first_animal animals : second_animal animals : print ( " Yesterday bought % s . Today bought % s . " % ( first_animal , second_animal ) ) look detail methods defined later chapter , discuss writing custom objects .   , examples built - generators defined Python itertools module : # need import module order use import itertools # unlike range , count upper bound , restricted integers itertools . count ( 1 ): print ( ) # 1 , 2 , 3 .... itertools . count ( 1 , 0.5 ): print ( ) # 1.0 , 1.5 , 2.0 .... # cycle repeats values iterable animal itertools . cycle ( [ ' cat ' , ' dog ' ] ): print ( animal ) # ' cat ' , ' dog ' , ' cat ' , ' dog ' ... # repeat repeats single item itertools . repeat ( 1 ): # ... forever print ( ) # 1 , 1 , 1 .... itertools . repeat ( 1 , 3 ): # set number times print ( ) # 1 , 1 , 1 # chain combines multiple iterables sequentially itertools . chain ( numbers , animals ): print ( ) # print numbers animals generators , use loop need check loop terminate ! built - function called zip allows combine multiple iterables pairwise . outputs generator : zip ( ( 1 , 2 , 3 ) , ( 4 , 5 , 6 ) ): print ( ) zip ( range ( 5 ) , range ( 5 , 10 ) , range ( 10 , 15 ) ): print ( ) combined iterable length shortest component iterables – component iterables longer , trailing elements discarded . Exercise 4 ¶ Create tuple month names tuple number days month ( assume February 28 days ) . single loop , construct dictionary month names keys corresponding day numbers values . thing loop . Comprehensions ¶ Suppose list numbers , want build new list doubling values list .   want extract numbers list numbers .   want find capitalise animal names list animal names start vowel .   things iterating original list , performing kind check element turn , appending values new list : numbers = [ 1 , 5 , 2 , 12 , 14 , 7 , 18 ] doubles = [ ] number numbers : doubles . append ( 2 * number ) even_numbers = [ ] number numbers : number % 2 = = 0 : even_numbers . append ( number ) animals = [ ' aardvark ' , ' cat ' , ' dog ' , ' opossum ' ] vowel_animals = [ ] animal animals : animal [ 0 ] ' aeiou ' : vowel_animals . append ( animal . title ( ) ) unwieldy way simple .   Fortunately , rewrite simple loops like use cleaner readable syntax comprehensions . comprehension kind filter define iterable based condition .   result iterable .   examples list comprehensions : doubles = [ 2 * number number numbers ] even_numbers = [ number number numbers number % 2 = = 0 ] vowel_animals = [ animal . title ( ) animal animals animal [ 0 ] ' aeiou ' ] comprehension written square brackets line .   comprehensions results creation new list object . think comprehension compact form loop , rearranged slightly . ( 2 * number number animal.title ( ) ) defines going inserted new list step loop .   usually function item original iterable processed . middle ( number numbers animal animals ) corresponds line loop , defines iterable iterated variable item given inside loop . ( number % 2 = = 0 animal[0 ] ' aeiou ' ) condition filters original items .   items condition true processed ( described ) included new list .   include – example , want double numbers original list . List comprehensions replace loops lot complicated – nested loops .   complex loop , complicated corresponding list comprehension likely .   long convoluted list comprehension difficult reading code understand – better write loop . final product comprehension list .   create dictionaries generators similar way – generator expression uses round brackets instead square brackets , set comprehension uses curly brackets , dict comprehension uses curly brackets separates key value colon : numbers = [ 1 , 5 , 2 , 12 , 14 , 7 , 18 ] # generator comprehension doubles_generator = ( 2 * number number numbers ) # set comprehension doubles_set = { 2 * number number numbers } # dict comprehension uses number key doubled number value doubles_dict = { number : 2 * number number numbers } generator expression parameter passed function , like sum , leave round brackets : sum_doubles = sum ( 2 * number number numbers ) Note dict set comprehensions introduced Python 3 .   Python 2 create list generator instead convert set dict . Exercise 5 ¶ Create string contains positive integers separated commas spaces . Remember join numbers – convert strings .   Print output string . Rewrite calendar program exercise 3 nested comprehensions instead nested loops .   Try append string week lists , sure reused list instead creating separate list week . similar create calendar list 52 sublists ( week year ) . Hint : modify nested loops ? break continue statements ¶ break ¶ Inside loop body , use break statement exit loop immediately . want test special case result immediate exit loop . example : x = 1 x < = 10 : x = = 5 : break print ( x ) x + = 1 code fragment print numbers 1 4 . case x 5 , break statement encountered , flow control leave loop immediately . continue ¶ continue statement similar break statement , causes flow control exit current loop body point encounter – loop exited . example : x range ( 1 , 10 + 1 ): # count 1 10 x = = 5 : continue print ( x ) fragment print numbers 1 10 5 .   case x 5 , continue statement encountered , flow control leave loop body – loop continue element range . Note replaced break continue example , infinite loop – continue statement triggered x updated . x stay equal 5 , triggering continue statement , ! break simulate - loop ¶ Recall loop checks condition executing loop body time .   convenient , .   need execute loop body ? age = input ( " enter age : " ) valid_number ( age ): # let assume defined valid_number age = input ( " enter age : " ) ask user input , condition depends user input – outside loop .   inconvenient , repeat contents loop body – unnecessary repetition usually bad idea .   want change message user later , forget change places ?   loop body contains lines code ? languages offer structure called - loop , repeat - loop , checks condition executing loop body .   means loop body executed .   Python structure like , simulate help break statement : True : age = input ( " enter age : " ) valid_number ( age ): break moved condition inside loop body , check end , asking user input .   replaced condition statement True – , course , true .   statement   terminate checking condition – terminate break statement triggered . trick help particular loop use case look better , disadvantages .   accidentally leave break statement , write loop way triggered , infinite loop !   code difficult understand , actual condition makes loop terminate hidden inside body loop .   use construct sparingly .   possible rewrite loop way condition checked loop body repetition avoided : age = # initialise age valid number valid_number ( age ): # use condition asking user age = input ( " enter age : " ) Exercise 6 ¶ Write program repeatedly prompts user integer . integer , print integer . integer odd , print . Exit program user enters integer 99 . programs ask user input variable number data entries , finally enter specific character string ( called sentinel ) signifies entries .   example , asked enter PIN followed hash ( # ) . hash sentinel indicates finished entering PIN . Write program averages positive integers .   program prompt user enter integers user enters negative integer .   negative integer discarded , print average previously entered integers . Implement simple calculator menu .   Display following options user , prompt selection , carry requested action ( e.g. prompt numbers add ) .   operation , return user menu . Exit program user selects 0 . user enters number menu , ignore input redisplay menu . assume user enter valid integer : -- Calculator Menu -- 0 . Quit 1 . Add numbers 2 . Subtract numbers 3 . Multiply numbers 4 . Divide numbers loops simplify code ¶ use knowledge loops simplify kinds redundant code .   Consider example , prompt user personal details : = input ( " enter : " ) surname = input ( " enter surname : " ) # let store strings , convert numbers later age = input ( " enter age : " ) height = input ( " enter height : " ) weight = input ( " enter weight : " ) lot repetition snippet code .   line exactly variable property ask ( values match , difference ) .   write code like likely lot copying pasting , easy mistake .   want change , need change line . improve ?   separate parts lines differ parts , use loop iterate .   Instead storing user input separate variables , going use dictionary – easily use property names keys , sensible way group values : person = { } prop [ " " , " surname " , " age " , " height " , " weight " ] : person [ prop ] = input ( " enter % s : " % prop ) unnecessary duplication .   easily change string use prompt , add code execute property – edit code place , places .   add property , add list . Exercise 7 ¶ Modify example include type conversion properties : age integer , height weight floats , surname strings . Answers exercises ¶ Answer exercise 1 ¶ example program : total = 0 number = 0 total < 200 : number + = 1 total + = number * * 2 print ( " Total : % d " % total ) print ( " number : % d " % number ) example program : GUESSES_ALLOWED = 10 SECRET_WORD = " caribou " guesses_left = GUESSES_ALLOWED guessed_word = guessed_word ! = SECRET_WORD guesses_left : guessed_word = input ( " Guess word : " ) guessed_word = = SECRET_WORD : print ( " guessed ! Congratulations ! " ) : guesses_left -= 1 print ( " Incorrect ! % d guesses left . " % guesses_left ) Answer exercise 2 ¶ example program : total = 0 range ( 1 , 10 + 1 ): total + = print ( total ) Remember use sum function sum sequence : print ( sum ( range ( 1 , 10 + 1 ) ) ) example program : num = int ( input ( " enter integer : " ) ) num_fac = 1 range ( 1 , num + 1 ): num_fac * = print ( " % d ! = % d " % ( num , num_fac ) ) example program : total = 0 product = 1 range ( 1 , 10 + 1 ): num = float ( input ( " enter number % d : " % ) ) total + = num product * = num average = total / 10 print ( " Sum : % g \n Product : % g \n Average : % g " % ( total , product , average ) ) example program : numbers = [ ] range ( 10 ): numbers [ ] = float ( input ( " enter number % d : " % ( + 1 ) ) ) total = 0 product = 1 num numbers : total + = num product * = num average = total / 10 print ( " Sum : % g \n Product : % g \n Average : % g " % ( total , product , average ) ) Answer exercise 3 ¶ example program : calendar = [ ] m range ( 12 ): month = [ ] w range ( 4 ): month . append ( [ ] ) calendar . append ( month ) example program : ( JANUARY , FEBRUARY , MARCH , APRIL , , JUNE , JULY , AUGUST , SEPTEMBER , OCTOBER , NOVEMBER , DECEMBER ) = range ( 12 ) ( WEEK_1 , WEEK_2 , WEEK_3 , WEEK_4 ) = range ( 4 ) calendar [ JULY ] [ WEEK_2 ] . append ( " holiday ! " ) Answer exercise 4 ¶ example program : months = ( " January " , " February " , " March " , " April " , " " , " June " , " July " , " August " , " September " , " October " , " November " , " December " ) num_days = ( 31 , 28 , 31 , 30 , 31 , 30 , 31 , 31 , 30 , 31 , 30 , 31 ) month_dict = { } month , days zip ( months , days ): month_dict [ month ] = days example program : months = ( " January " , " February " , " March " , " April " , " " , " June " , " July " , " August " , " September " , " October " , " November " , " December " ) num_days = ( 31 , 28 , 31 , 30 , 31 , 30 , 31 , 31 , 30 , 31 , 30 , 31 ) # zipped output sequence - element tuples , # use dict conversion . month_dict = dict ( zip ( months , days ) ) Answer exercise 5 ¶ example program : number_string = " , " . join ( str ( n ) n range ( 1 , 11 ) ) print ( number_string ) example program : calendar = [ [ [ ] w range ( 4 ) ] m range ( 12 ) ] ( JANUARY , FEBRUARY , MARCH , APRIL , , JUNE , JULY , AUGUST , SEPTEMBER , OCTOBER , NOVEMBER , DECEMBER ) = range ( 12 ) ( WEEK_1 , WEEK_2 , WEEK_3 , WEEK_4 ) = range ( 4 ) calendar [ JULY ] [ WEEK_2 ] . append ( " holiday ! " ) calendar = [ [ ] w range ( 4 ) m range ( 12 ) ] Answer exercise 6 ¶ example program : ( True ): num = int ( input ( " Enter integer : " ) ) num = = 99 : break num % 2 : continue print num example program : print ( " enter positive integers averaged . Enter negative integer terminate list . " ) nums = [ ] True : num = int ( input ( " Enter number : " ) ) num < 0 : break nums . append ( num ) average = float ( sum ( nums ) ) / len ( nums ) print ( " average = % g " % average ) example program : menu = " " " -- Calculator Menu -- 0 . Quit 1 . Add numbers 2 . Subtract numbers 3 . Multiply numbers 4 . Divide numbers " " " selection = selection ! = 0 : print ( menu ) selection = int ( input ( " Select option : " ) ) selection range ( 5 ): print ( " Invalid option : % d " % selection ) continue selection = = 0 : continue = float ( input ( " enter number : " ) ) b = float ( input ( " enter second number : " ) ) selection = = 1 : result = + b elif selection = = 2 : result = - b elif selection = = 3 : result = * b elif selection = = 4 : result = / b print ( " result % g . " % result ) Answer exercise 7 ¶ example program : person = { } properties = [ ( " " , str ) , ( " surname " , str ) , ( " age " , int ) , ( " height " , float ) , ( " weight " , float ) , ] prop , p_type properties : person [ prop ] = p_type ( input ( " enter % s : " % prop ) ) Table Contents Loop control statements Introduction statement Exercise 1 statement Exercise 2 Nested loops Exercise 3 Iterables , iterators generators Exercise 4 Comprehensions Exercise 5 break continue statements break continue break simulate - loop Exercise 6 loops simplify code Exercise 7 Answers exercises Answer exercise 1 Answer exercise 2 Answer exercise 3 Answer exercise 4 Answer exercise 5 Answer exercise 6 Answer exercise 7 Previous topic Collections topic Errors exceptions Page Source Quick search Navigation index | previous | Object - Oriented Programming Python 1 documentation » Loop control statements © Copyright 2013 , 2014 , University Cape Town individual contributors . work released CC - SA 4.0 licence . 
       Created Sphinx 7.2.6 .